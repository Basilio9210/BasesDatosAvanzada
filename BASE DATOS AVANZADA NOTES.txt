

TABLESPACE: ES UNA PARTE DEL TOTAL DE LA BD QUE MANEJA ORACLE.
ES LA UNIDAD PRIAMARIA LOGICA EN LA QUE SE ESTRUCUTURA CUALQUIER BD DE ORACLE

DATAFILE TODO LO QUE TIENE QUE VER CON LO FISICO
TABLSPACE TODO LO QUE TIENE QUE VER CON LO LOGICO


CADA TBLSPACE TIENE COMO MINIMO UN DATAFILE
SI TENGO 3 TBLSPACE Y C/U TIENE 2 DATAFILES. TENGO 6 DATAFILE.

CADA TAMAÑO DE SIZE VA EN BYTE.


-- TABLESPACE OVERVIEW --

 TBLSPACES ESTAN DIVIDOS EN SEGEMNTOS  Y SEGMENTOS ESTA 
 SU VEZ EN EXTENDS Y EXTENDS ESTAN DIVIDIDOS EN BLOQUES

 
 
 TIPOS DE TABLESPACES
 
 BIGFILES
 SYSTEM
 SYSAUX
 TEMP
 READ-ONLY

 
 BIGFILE
- ARCHIVOS GRANDES, SOLO PERMITE TENER 1 DATAFILE
  Y ESE TAMAÑO PUEDE SER MAXIMO 8 EXABYTES Y PUEDE TENER UN ARCHIV 1024 MAS GRANDE
 
 SYSTEM TBLSPACE
 -SE CREA AUTOAMTICAMENTE, SIEMPRE ONLINE NO SE ELIMINIA,NI SE RENOMBRA, SIEMPRE TIENE QUE ESTAR ONLINE.
  SINO LA TIENE LA BD NO SE PUEDE ARRANCAR TIENE TODA LA INFO DEL BD.
 
 SYSAUX
 -ORACLE DECIDE AUTOMATICAMENTE QUE IINFORMACION GUARDA AHI, SE CREA AUTOMATICAMNETE, NO SE ELIMINA, NO SE CAMBIA
 
 UNDO
 - LOS COMMITS ROLLABAKC TODO TIPO DE TRANSACCIONES SE GUARDAN EN UNDO
	DML OPERATIONS
	CADA ORACLE INSTANCIA ES ASSGINADA
	CUANDO EXISTA ROLABACK LA INFORMACION SE RECUPERA DESDE UNDO.
	PUEDES TENER 10 UNDO PERO SOLO VA A FUNCIONAR UNO.
	
READ - ONLY

- SOLO LECTURA, NO SE MODIFICA, NO PERMITE INSERTS NI UPDATES
		
		
		
EL TBLSPACE TIPO TEMPORARL

TIENE QUE VER CON LAS SESIONES, EL TIEMPO DE CONECTADO. 
TODAS LAS OPERACIONES CON JOINS, GROUP BY PUEDE QUEDAR ALMACENADA AHI.


select * from user_users;

select * from dba_tablespaces;

select * from dba_data_files;

create tablespace basilio
 datafile 'C:\Users\BASILIO.SALDARRIAGA\Desktop\ITM\Bases Datos Avanzada basilio.dbf' size 50M;

 
 EXTENDS FILES ES EL MAPA DE BITS. 
 TIENE QUE AGREGAR EL ONLINE.
 
		SE PONE TBLSPACE OFFLINE PARA HACER BACKUPS, MANTENIMIENTO A LA BD, SI HAY ALTA TRANSACCIONALIDAD
		
		
		---------USUARIOS------------
		
		
		UN USUARIO PUEDE TENER MAXIMO 1 PERSIL
		
		UN PERFIL ES UN RECURSO QUE TIENE QUE VER CON HARDWARE, CUANTOS MINUTOS PUEDE PERMANECER
		CUANTO INTENTOS FALLIDOS DE CLAVE.
		CUANTOS PROCESADORES PUEDE USAR PARA LOS QUERIES.
		
		USUARIO PUEDE TENER N ROLES
		USUARIO TIENE N PRIVILEGIOS
		
		CREATE, ALTER ES PRIVILEGIO
		
		DIFERENCIA ENTRE ROL Y PRIVILEGIO ES QUE ROL ES AGRUÁCION DE MUCHOS PRIVILEGIOS.
		
		
		EL USER ES EL OBJETO QUE SE PUEDE CONECTYAR A LA BD
		
		
		
		---------------SEPTIEMBRE 17 DE 2018 -----------
		
		PRIVILEGIO  -------> GRANT - REVOKE
		ROL ---------> CREATE|ALTER|DROP|SET   TO   name_of_role 
		USUARIO ---------> CREATE|ALTER|DROP|SET  (GRANT | REVOKE) TO   name_of_user
		PERFIL ---------> CREATE|ALTER|DROP|SET   (GRANT | REVOKE) TO   name_of_profile
		
		
		
		-------TIPOS DE PRVIVLEGIOS:---------
		
		SYSTEM PRIVILEGES  tables, views, indexes sequences PL/SQL functions procedures.
		
		OBJECT PRIVILEGES permite seleccionar, eliminar, y ejecutar procedimientos siempre y cuando tenga un objeto asociado
		
		PRIVIELEGES HIERARCHY Privilegios que se pueden conceder y se van heredando
		
		PUBLIC ROLE
		
		
		YO NO PUEDO BORRAR PERMISOS QUE NO HE ASIGNADO.
		
		SI BORRAS PRVILEGIOS EN OBJETO SE ELIMINA EN CASCADA, PERO EN EL SISTEMA NO
		
		
		---ROLES---
		
		-ROL ES CONJUNTO DE PRVILEGIOS.
		-SIRVEN PARA QUE NO PUEDAS DARLES LOS MISMOS PERMISOS A LOS DIFERENTES PERFILES.
		
		
		GRANT ON ---> SIEMPRE QUE TENGA  "ON" SE REFIERE A OBJETO
		
		
		----------PERFILES--------
		
		-UN PERFIL ES UN CONJUNTO DE RECURSOS  Y CONTRASEÑAS PARA ACCEDER EN LA BASE DE DATOS
		-COMO MINIMO DEBE ASIGNARLE UN RECURSO.
		
		CPSAS A TENER EN CUENTA:
		
		-QUE TIPO DE PERMISOS LE VAS A DAR UNA PERSONA
		-DELE PRIVILEGIOS A LOS ROLES Y ASIGEN LOS ROLES
		-CREE USUARIOS INDIVIDUALES EN VEZ DE GENERICOS
		-SEPARE ROL DBA DE ROL DE DESARROLLADOR
		- NO USES ROLES COMO CONECT.
		- EVITE DARLE PRIVILEGIOS ROLES PUBLICOS.
		
		
		SEPTIEMBRE 19 DE 2018
		
		---------SECUENCIA-------
		
		LA SECUENCIA SIEMPRE SE VA A INCREMENTAR
		UNA SECUENCIA ES UN OBJETO
		SI TIENES 10 TABLAS LO IDEAL ES TENER 10 SECUENCIAS
		
		CURRVAL = MUESTRA EL VALOR QUE LLEVA EN LA SECUENCIA
		NEXTVAL = MUESTRA EL DATO SIGUIENTE DEL NEXTVAL
		
		
		
		
		SEPTIEMBRE 24 DE 2018
		
		---------BACKUP RMAN -----------------
		
		PRIMER INIDENTE DE GITLAB
		
		1.BORRARON DATOS
		
		2.LA REPLICA DE DB NO HIZO NADA
		
		LVM --->  LINUX LOGICAL MANAGER Y CREA PARTICIONES VIRTUALES
		
		5 BACKUPS Y NINGUNA SIRVIO.
		
		NECESITARON 6 HORAS DE RESTAURACION
		
		LA RESTAURACION DURO 18 HORAS.
		
		
		LA TECNICA DE LOS 5 POR QUE?
		
		RMAN
		
		HACER BAKUP EN FRIO Y CALIENTE
		MONITOREAR
		CONFIGURAR AMBIENTE DB
		PLANEACION Y TESTING
		TRANSFERIR DATOS
		PROBLEMAS DE EJECUCION
		
		
		2 TIPOS DE BACKUP
		
		FISICO  COPIA Y PEGA
		
		LOGICO CON USANDO ORACLE DATA PUMP
		
		
		DBA INTERVETION--CUANDO INTERVIENES
		
		1. CUANDO FALLO FISICO, DISCO DURO, ETC...
		2. ERROR DE USUARIOS
		3. ERRORES DE APLICACIONES
		
		
		CUANDO FALLA EN LOS MEDIOS
		
		-CUANDO RECUPERACION DE DISOC DUROS
		-DATOS SON VULNERABLES
		- TECNICAS RECUPERACION DEPENDE ARHCIVO AFECTADO
		-RECUPERACION DE DESARROLLO
		
		CUANDO HAY USER ERROR
		
		ERROE MANUAL
		LOCALIZADO EN WIDESPREAD
		ERROE EXPANDIDO
		
		
		ANDO ERRORE APLICACION
		
		
	DATOS BLOQUEADOS 
	ERROES DE APLICACION
	
	
	
	RMAN--- RECOVERY MANAGER
	
	TIPOS DE BACKUPS
	
	BCKUP INCREMENTAL
	BKUP MEDIA RECOVERY
	COMPRESION
	UNA PARA ENCRIPTAR
	DUPLIACION 
	
	--- SEPTIEMBRE 26 ---
	
	
	---------RMAN--------
	
	
	RMAN TARGET SYS
	RMAN> LIST BACKUP;
	RMAN> SHOW ALL;
	RMAN> BACKUP AS BACKUPSET DATABASE
	shutdown inmediate
	startup mount
	
	
	--RESTAURACION---
	
	ENTRAS A RMAN
	startup mount
	RECOVER DATABASE;
	
	startup mount
	alter database open resetlogs;
	
	
	https://www.dropbox.com/sh/hyht3gf40eor0ps/AAAs6YoiI0IHV3ODHBNfFx3la?dl=0
	
	A,B,C,D,E,F  FAMILIA
	
	
	UNA PAREJA TIENE PADRES E HIJOS EN LA FAMILIA
	
	A HIJO C
	E HIJO DE A
	D HIJO DE F
	E HIJO DE F
	
	BC
	FA
	DE
	
	F PAPA DE E,D
	A PAPA DE E
	C PAPA DE A
	
	
	